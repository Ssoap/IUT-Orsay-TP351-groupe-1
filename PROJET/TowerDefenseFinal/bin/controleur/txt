
	
	    
		this.setContentPane(map);
		this.setSize(1000, 600);
		this.setVisible(true);	
		this.setLocationRelativeTo(null);
		
		
		map.setLayout(new BorderLayout());
		map.setSize(this.getSize());
		
		panelTerrain.setBackground(Color.green);
		panelStore.setBackground(new Color(0,46,91));
		panelTerrain.setPreferredSize(new Dimension(this.getWidth(), this.getHeight()*3/4)); //marche uniquement avec PreferedSize
		panelStore.setPreferredSize(new Dimension(this.getWidth(), this.getHeight()*1/4));
		panelTerrain.setLayout(new GridLayout(1,1));
		
		map.add(panelTerrain, BorderLayout.NORTH);
		map.add(panelStore, BorderLayout.CENTER);
		panelInfo.setBackground(Color.ORANGE);
		panelInfo.setLayout(new GridLayout(1,1));
		
		panelInfo.add(TexteInfo);
	
		onglet.setPreferredSize(new Dimension(this.getWidth()*3/4, panelStore.getHeight()));
	    panelStore.add(onglet, BorderLayout.WEST);
	    panelStore.add(panelInfo);
	    
	    panelStoreMonstres.setLayout(new GridLayout(1,3));
	    pnlmonstre1 = new JPanel();
	    pnlmonstre2 = new JPanel();
	    pnlmonstre3 = new JPanel();
	    
	    pnlmonstre1.setBackground(Color.black);
	    pnlmonstre2.setBackground(Color.gray);
	 
	    pnlmonstre3.setBackground(Color.red);
	    panelStoreMonstres.add(pnlmonstre1);
	    panelStoreMonstres.add(pnlmonstre2);
	    panelStoreMonstres.add(pnlmonstre3);
	    
	    pnlmonstre1.setLayout(new GridLayout(1,2));
	    pnlmonstre2.setLayout(new GridLayout(1,2));
	    pnlmonstre3.setLayout(new GridLayout(1,2));
	    
	    AchatMonstre1 = new JLabel(new ImageIcon("monster1_50x50.png"));
	    AchatMonstre1.setPreferredSize(new Dimension(pnlmonstre1.getWidth()/2, pnlmonstre1.getHeight()));
	    
	    AchatMonstre2 = new JLabel(new ImageIcon("monster2_50x50.png"));
	    AchatMonstre2.setPreferredSize(new Dimension(pnlmonstre1.getWidth()/2, pnlmonstre2.getHeight()));
	   
	    AchatMonstre3 = new JLabel(new ImageIcon("monster3_50x50.png"));
	    AchatMonstre3.setPreferredSize(new Dimension(pnlmonstre1.getWidth()/2, pnlmonstre3.getHeight()));
	    
	    pnlmonstre1.add(AchatMonstre1);
	    InfoMonstre1 = new JLabel();
	    pnlmonstre1.add(InfoMonstre1);
	    InfoMonstre1.setText("<html>Nom: Monstre 1<br>PV: 500</html>");
	    InfoMonstre1.setForeground(Color.white);
	    
	    pnlmonstre2.add(AchatMonstre2);
	    InfoMonstre2 = new JLabel();
	    pnlmonstre2.add(InfoMonstre2);
	    InfoMonstre2.setText("<html>Nom: Monstre 2<br>PV: 600</html>");
	    InfoMonstre2.setForeground(Color.white);
	    
	    pnlmonstre3.add(AchatMonstre3);
	    InfoMonstre3 = new JLabel();
	    pnlmonstre3.add(InfoMonstre3);
	    InfoMonstre3.setText("<html>Nom: Monstre 3<br>PV: 700</html>");
	    InfoMonstre3.setForeground(Color.white);
	    
	    pnlmonstre1.setBorder(BorderFactory.createLineBorder(Color.CYAN));
	    pnlmonstre2.setBorder(BorderFactory.createLineBorder(Color.ORANGE));
	    pnlmonstre3.setBorder(BorderFactory.createLineBorder(Color.MAGENTA));
	    
	   // AchatMonstre1.addMouseListener(new BoxListener());
	   // AchatMonstre2.addMouseListener(new BoxListener());
	   //AchatMonstre3.addMouseListener(new BoxListener());
	    
	    AchatMonstre1.addMouseListener(new MouseAdapter(){
	    	public void mouseClicked(MouseEvent me)
	    	{
	    		JLabel choix = (JLabel) me.getSource();
	              System.out.println(me.getSource().getClass().getName());
	              monstreChoisi = new DessinMonstre("monster1_50x50.png");
	              choix.setBorder(BorderFactory.createLineBorder(Color.WHITE));
	              AchatMonstre2.setBorder(BorderFactory.createLineBorder(pnlmonstre2.getBackground()));
	              AchatMonstre3.setBorder(BorderFactory.createLineBorder(pnlmonstre3.getBackground()));
	              terrain.lis.setMonstre(monstreChoisi);
	        }
	    });
	    
	    AchatMonstre2.addMouseListener(new MouseAdapter(){
	    	public void mouseClicked(MouseEvent me)
	    	{
	    		JLabel choix = (JLabel) me.getSource();
	    		System.out.println(me.getSource().getClass().getName());
	              monstreChoisi = new DessinMonstre("monster2_50x50.png");
	              choix.setBorder(BorderFactory.createLineBorder(Color.WHITE));
	              terrain.lis.setMonstre(monstreChoisi);
	              AchatMonstre1.setBorder(BorderFactory.createLineBorder(pnlmonstre1.getBackground()));
	              AchatMonstre3.setBorder(BorderFactory.createLineBorder(pnlmonstre3.getBackground()));
	              
	        }
	    });
	    
	    AchatMonstre3.addMouseListener(new MouseAdapter(){
	    	public void mouseClicked(MouseEvent me)
	    	{
	    		JLabel choix = (JLabel) me.getSource();
	    		System.out.println(me.getSource().getClass().getName());
	              monstreChoisi = new DessinMonstre("monster3_50x50.png");
	              choix.setBorder(BorderFactory.createLineBorder(Color.WHITE));
	              terrain.lis.setMonstre(monstreChoisi);
	              AchatMonstre2.setBorder(BorderFactory.createLineBorder(pnlmonstre2.getBackground()));
	              AchatMonstre1.setBorder(BorderFactory.createLineBorder(pnlmonstre1.getBackground()));
	              
	        }
	    });
	 }
	
}
class BoxListener extends MouseAdapter
{
	JLabel clickedBox;
	JButton clickedButton;
	JLabel lbl ;
	DessinMonstre monstreChoisi;
	
	public BoxListener(JLabel lbl, DessinMonstre monstreChoisi ){
		super() ;
		this.lbl = lbl;
		this.monstreChoisi = monstreChoisi;
	}
	
	public void mouseClicked(MouseEvent me)
	{
          clickedBox =(JLabel)me.getSource(); // get the reference to the box that was clicked 
          clickedBox.setBorder(BorderFactory.createLineBorder(Color.RED));
          lbl.setText("Position de la case: " + clickedBox.getName()) ;
          
          if(monstreChoisi != null){
        	  clickedBox.removeAll();
        	  clickedBox.add(new DessinTerre("GroundPiece.jpg"));
        	  monstreChoisi.setOpaque(true);
        	  JLabel lab;
        	  lab = ((JLabel)clickedBox.getComponents()[0]);
        	  lab.add(monstreChoisi);
          }
          else{
        	  clickedBox.setBorder(BorderFactory.createLineBorder(Color.RED));        	  
          }
    }
	
	public void setMonstre(DessinMonstre n)
	{
		monstreChoisi = n;
	}
}